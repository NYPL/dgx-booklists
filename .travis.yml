language: node_js
node_js:
- '6'
cache:
  directories:
  - node_modules
install: npm install
before_script: echo 'No unit test coverage for Booklists; Will attempt to build
  distribution assets as a safety'
script: npm run dist
before_deploy: echo 'Successfully built distribution assets for Booklists; Preparing
  to deploy New Arrivals to AWS'
deploy:
- provider: elasticbeanstalk
  skip_cleanup: true
  access_key_id: "$AWS_ACCESS_KEY_ID_PRODUCTION"
  secret_access_key: "$AWS_SECRET_ACCESS_KEY_PRODUCTION"
  region: us-east-1
  app: nypl-booklists
  env: nypl-booklists-production
  bucket_name: elasticbeanstalk-us-east-1-946183545209
  bucket_path: nypl-booklists-production
  on:
    repo: NYPL/dgx-booklists
    branch: master
- provider: elasticbeanstalk
  skip_cleanup: true
  access_key_id: "$AWS_ACCESS_KEY_ID_PRODUCTION"
  secret_access_key: "$AWS_SECRET_ACCESS_KEY_PRODUCTION"
  region: us-east-1
  app: nypl-booklists
  env: nypl-booklists-qa
  bucket_name: elasticbeanstalk-us-east-1-946183545209
  bucket_path: nypl-booklists-qa
  on:
    repo: NYPL/dgx-booklists
    branch: qa
- provider: elasticbeanstalk
  skip_cleanup: true
  access_key_id: "$AWS_ACCESS_KEY_ID_DEVELOPMENT"
  secret_access_key: "$AWS_SECRET_ACCESS_KEY_DEVELOPMENT"
  region: us-east-1
  app: nypl-booklists
  env: nypl-booklists-development
  bucket_name: elasticbeanstalk-us-east-1-224280085904
  bucket_path: nypl-booklists-development
  on:
    repo: NYPL/dgx-booklists
    branch: development
after_deploy: echo 'Successfully executed deploy trigger for Booklist App on AWS'
env:
  global:
    secure: sgUAogXWNWPt52kRcXJJsMG9hmBn8s5daYXEoyOqaidZK7AOAJ3oYpgb7vI4ShpIA8a376sW9Uo0z32p/n3rjSG+KD6hXwhJffjZ3vyLa15A6NvPYuP7i/J+AQQzMymA7qmmi0c3Wtci0poEz5kDEJJ6vgT1GtnE7WKA6VQvbnRvXaEJUjCNmifinW3U+vZP6q3wcupcNQxqxVZhUcyqt5hfjqETZRph+1g6mV7/pHRaFSUOrA9ulrQ8+Bx/U04G06sQ+asa3cnecdyJfvZIuVlMzT3ersi9rvptxU1LUeQVDsQNimkx/o2HkmWhY7XcLFLdt6CdgrOH7Q/7H2SpLjnBnFqhEeMicm44FIcoN9/sheC/usDRcq6ffXyzorv/sEgvPUTDtlF80M1QAXncax3hsANisNeVNRUnNVGokKJm4YVLfy68An3OJlcT6yLKwUvbpglZGkguoM1X2oAw3w6o26tTBgtkdElOvOHPGnqfOopAFN0zXTIuqfsWRdCMDn2LdmcCd5sUjcELW8KrrDpOEd8D8+kncF5rp5WpK3lNthcZs6RNYA+LB30YUpWBf6XxuVSxWiXPLFCy8rwDAVdqjw0GtGSn/Vd2Dq5cgLnRRVOUiCcDLZA/bZRM34mzCHnrzulaK0kh6VAcp2J/4xcaxjsLpImz/jGghtOz6UI=
